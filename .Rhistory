here::i_am(
"code/01_make_table.R"
)
here::i_am(
"code/01_make_table.R"
)
random_numbers1 <- read.csv(
here::here("data/diabetic_data.csv")
)
data <- data %>%
mutate(age_numeric = case_when(
age == "[0-10)" ~ 5,
age == "[10-20)" ~ 15,
age == "[20-30)" ~ 25,
age == "[30-40)" ~ 35,
age == "[40-50)" ~ 45,
age == "[50-60)" ~ 55,
age == "[60-70)" ~ 65,
age == "[70-80)" ~ 75,
age == "[80-90)" ~ 85,
age == "[90-100)" ~ 95
))
here::i_am(
"code/01_make_table.R"
)
random_numbers1 <- read.csv(
here::here("data/diabetic_data.csv")
)
library(dplyr)
data <- data %>%
mutate(age_numeric = case_when(
age == "[0-10)" ~ 5,
age == "[10-20)" ~ 15,
age == "[20-30)" ~ 25,
age == "[30-40)" ~ 35,
age == "[40-50)" ~ 45,
age == "[50-60)" ~ 55,
age == "[60-70)" ~ 65,
age == "[70-80)" ~ 75,
age == "[80-90)" ~ 85,
age == "[90-100)" ~ 95
))
here::i_am(
"code/01_make_table.R"
)
random_numbers1 <- read.csv(
here::here("data/diabetic_data.csv")
)
library(dplyr)
dat <- dat %>%
mutate(age_numeric = case_when(
age == "[0-10)" ~ 5,
age == "[10-20)" ~ 15,
age == "[20-30)" ~ 25,
age == "[30-40)" ~ 35,
age == "[40-50)" ~ 45,
age == "[50-60)" ~ 55,
age == "[60-70)" ~ 65,
age == "[70-80)" ~ 75,
age == "[80-90)" ~ 85,
age == "[90-100)" ~ 95
))
here::i_am(
"code/01_make_table.R"
)
dat <- read.csv(
here::here("data/diabetic_data.csv")
)
library(dplyr)
dat <- dat %>%
mutate(age_numeric = case_when(
age == "[0-10)" ~ 5,
age == "[10-20)" ~ 15,
age == "[20-30)" ~ 25,
age == "[30-40)" ~ 35,
age == "[40-50)" ~ 45,
age == "[50-60)" ~ 55,
age == "[60-70)" ~ 65,
age == "[70-80)" ~ 75,
age == "[80-90)" ~ 85,
age == "[90-100)" ~ 95
))
summary_table <- dat %>%
summarise(
`Age` = paste0(round(mean(age_numeric, na.rm = TRUE), 2), " (", round(sd(age_numeric, na.rm = TRUE), 2), ")"),
`Length of Stay` = paste0(round(mean(time_in_hospital, na.rm = TRUE), 2), " (", round(sd(time_in_hospital, na.rm = TRUE), 2), ")"),
`Number of Medications` = paste0(round(mean(num_medications, na.rm = TRUE), 2), " (", round(sd(num_medications, na.rm = TRUE), 2), ")"),
`Number of Procedures` = paste0(round(mean(num_procedures, na.rm = TRUE), 2), " (", round(sd(num_procedures, na.rm = TRUE), 2), ")"),
# Gender frequency and percentage
`Gender` = paste0(' '),
`Male` = paste0(sum(gender == "Male", na.rm = TRUE), " (", round(sum(gender == "Male", na.rm = TRUE) / n() * 100, 2), "%)"),
`Female` = paste0(sum(gender == "Female", na.rm = TRUE), " (", round(sum(gender == "Female", na.rm = TRUE) / n() * 100, 2), "%)"),
# Race frequency and percentage
`Race` = paste0(' '),
`Caucasian` = paste0(sum(race == "Caucasian", na.rm = TRUE), " (", round(sum(race == "Caucasian", na.rm = TRUE) / n() * 100, 2), "%)"),
`African American` = paste0(sum(race == "AfricanAmerican", na.rm = TRUE), " (", round(sum(race == "AfricanAmerican", na.rm = TRUE) / n() * 100, 2), "%)"),
`Hispanic` = paste0(sum(race == "Hispanic", na.rm = TRUE), " (", round(sum(race == "Hispanic", na.rm = TRUE) / n() * 100, 2), "%)"),
`Asian` = paste0(sum(race == "Asian", na.rm = TRUE), " (", round(sum(race == "Asian", na.rm = TRUE) / n() * 100, 2), "%)"),
`Other` = paste0(sum(race == "Other", na.rm = TRUE), " (", round(sum(race == "Other", na.rm = TRUE) / n() * 100, 2), "%)")
)
# Convert table to portrait format
table1 <- summary_table %>%
pivot_longer(cols = everything(), names_to = "Demographics", values_to = "Value")
here::i_am(
"code/01_make_table.R"
)
dat <- read.csv(
here::here("data/diabetic_data.csv")
)
library(dplyr)
library(tidyr)
dat <- dat %>%
mutate(age_numeric = case_when(
age == "[0-10)" ~ 5,
age == "[10-20)" ~ 15,
age == "[20-30)" ~ 25,
age == "[30-40)" ~ 35,
age == "[40-50)" ~ 45,
age == "[50-60)" ~ 55,
age == "[60-70)" ~ 65,
age == "[70-80)" ~ 75,
age == "[80-90)" ~ 85,
age == "[90-100)" ~ 95
))
summary_table <- dat %>%
summarise(
`Age` = paste0(round(mean(age_numeric, na.rm = TRUE), 2), " (", round(sd(age_numeric, na.rm = TRUE), 2), ")"),
`Length of Stay` = paste0(round(mean(time_in_hospital, na.rm = TRUE), 2), " (", round(sd(time_in_hospital, na.rm = TRUE), 2), ")"),
`Number of Medications` = paste0(round(mean(num_medications, na.rm = TRUE), 2), " (", round(sd(num_medications, na.rm = TRUE), 2), ")"),
`Number of Procedures` = paste0(round(mean(num_procedures, na.rm = TRUE), 2), " (", round(sd(num_procedures, na.rm = TRUE), 2), ")"),
# Gender frequency and percentage
`Gender` = paste0(' '),
`Male` = paste0(sum(gender == "Male", na.rm = TRUE), " (", round(sum(gender == "Male", na.rm = TRUE) / n() * 100, 2), "%)"),
`Female` = paste0(sum(gender == "Female", na.rm = TRUE), " (", round(sum(gender == "Female", na.rm = TRUE) / n() * 100, 2), "%)"),
# Race frequency and percentage
`Race` = paste0(' '),
`Caucasian` = paste0(sum(race == "Caucasian", na.rm = TRUE), " (", round(sum(race == "Caucasian", na.rm = TRUE) / n() * 100, 2), "%)"),
`African American` = paste0(sum(race == "AfricanAmerican", na.rm = TRUE), " (", round(sum(race == "AfricanAmerican", na.rm = TRUE) / n() * 100, 2), "%)"),
`Hispanic` = paste0(sum(race == "Hispanic", na.rm = TRUE), " (", round(sum(race == "Hispanic", na.rm = TRUE) / n() * 100, 2), "%)"),
`Asian` = paste0(sum(race == "Asian", na.rm = TRUE), " (", round(sum(race == "Asian", na.rm = TRUE) / n() * 100, 2), "%)"),
`Other` = paste0(sum(race == "Other", na.rm = TRUE), " (", round(sum(race == "Other", na.rm = TRUE) / n() * 100, 2), "%)")
)
# Convert table to portrait format
table1 <- summary_table %>%
pivot_longer(cols = everything(), names_to = "Demographics", values_to = "Value")
# Create the table using knitr::kable
kable(summary_table_tidy, caption = "Table of Patients Characteristics")
here::i_am(
"code/01_make_table.R"
)
dat <- read.csv(
here::here("data/diabetic_data.csv")
)
library(dplyr)
library(tidyr)
dat <- dat %>%
mutate(age_numeric = case_when(
age == "[0-10)" ~ 5,
age == "[10-20)" ~ 15,
age == "[20-30)" ~ 25,
age == "[30-40)" ~ 35,
age == "[40-50)" ~ 45,
age == "[50-60)" ~ 55,
age == "[60-70)" ~ 65,
age == "[70-80)" ~ 75,
age == "[80-90)" ~ 85,
age == "[90-100)" ~ 95
))
summary_table <- dat %>%
summarise(
`Age` = paste0(round(mean(age_numeric, na.rm = TRUE), 2), " (", round(sd(age_numeric, na.rm = TRUE), 2), ")"),
`Length of Stay` = paste0(round(mean(time_in_hospital, na.rm = TRUE), 2), " (", round(sd(time_in_hospital, na.rm = TRUE), 2), ")"),
`Number of Medications` = paste0(round(mean(num_medications, na.rm = TRUE), 2), " (", round(sd(num_medications, na.rm = TRUE), 2), ")"),
`Number of Procedures` = paste0(round(mean(num_procedures, na.rm = TRUE), 2), " (", round(sd(num_procedures, na.rm = TRUE), 2), ")"),
# Gender frequency and percentage
`Gender` = paste0(' '),
`Male` = paste0(sum(gender == "Male", na.rm = TRUE), " (", round(sum(gender == "Male", na.rm = TRUE) / n() * 100, 2), "%)"),
`Female` = paste0(sum(gender == "Female", na.rm = TRUE), " (", round(sum(gender == "Female", na.rm = TRUE) / n() * 100, 2), "%)"),
# Race frequency and percentage
`Race` = paste0(' '),
`Caucasian` = paste0(sum(race == "Caucasian", na.rm = TRUE), " (", round(sum(race == "Caucasian", na.rm = TRUE) / n() * 100, 2), "%)"),
`African American` = paste0(sum(race == "AfricanAmerican", na.rm = TRUE), " (", round(sum(race == "AfricanAmerican", na.rm = TRUE) / n() * 100, 2), "%)"),
`Hispanic` = paste0(sum(race == "Hispanic", na.rm = TRUE), " (", round(sum(race == "Hispanic", na.rm = TRUE) / n() * 100, 2), "%)"),
`Asian` = paste0(sum(race == "Asian", na.rm = TRUE), " (", round(sum(race == "Asian", na.rm = TRUE) / n() * 100, 2), "%)"),
`Other` = paste0(sum(race == "Other", na.rm = TRUE), " (", round(sum(race == "Other", na.rm = TRUE) / n() * 100, 2), "%)")
)
# Convert table to portrait format
table1 <- summary_table %>%
pivot_longer(cols = everything(), names_to = "Demographics", values_to = "Value")
saveRDS(
table1,
file = here::here("output", "table1.rds")
)
View(table1)
here::i_am(
"code/02_make_boxplot.R"
)
dat <- read.csv(
here::here("data/diabetic_data.csv")
)
ggplot(data, aes(x = factor(age), y = time_in_hospital)) +
geom_boxplot(fill = "lightblue", color = "darkblue") +
labs(
title = "Distribution of Length of Stay by Age Groups",
x = "Age Group",
y = "Length of Stay"
) +
theme_minimal(base_size = 15) +
theme(
plot.title = element_text(hjust = 0.5, face = "bold"),
axis.title.x = element_text(face = "bold"),
axis.title.y = element_text(face = "bold")
)
here::i_am(
"code/02_make_boxplot.R"
)
dat <- read.csv(
here::here("data/diabetic_data.csv")
)
library(ggplot2)
ggplot(data, aes(x = factor(age), y = time_in_hospital)) +
geom_boxplot(fill = "lightblue", color = "darkblue") +
labs(
title = "Distribution of Length of Stay by Age Groups",
x = "Age Group",
y = "Length of Stay"
) +
theme_minimal(base_size = 15) +
theme(
plot.title = element_text(hjust = 0.5, face = "bold"),
axis.title.x = element_text(face = "bold"),
axis.title.y = element_text(face = "bold")
)
here::i_am(
"code/02_make_boxplot.R"
)
dat <- read.csv(
here::here("data/diabetic_data.csv")
)
library(ggplot2)
ggplot(dat, aes(x = factor(age), y = time_in_hospital)) +
geom_boxplot(fill = "lightblue", color = "darkblue") +
labs(
title = "Distribution of Length of Stay by Age Groups",
x = "Age Group",
y = "Length of Stay"
) +
theme_minimal(base_size = 15) +
theme(
plot.title = element_text(hjust = 0.5, face = "bold"),
axis.title.x = element_text(face = "bold"),
axis.title.y = element_text(face = "bold")
)
ggsave(
here::here("output/boxplot.png"),
plot = boxplot,
device = "png"
)
here::i_am(
"code/02_make_boxplot.R"
)
dat <- read.csv(
here::here("data/diabetic_data.csv")
)
dat <- dat %>%
mutate(age_numeric = case_when(
age == "[0-10)" ~ 5,
age == "[10-20)" ~ 15,
age == "[20-30)" ~ 25,
age == "[30-40)" ~ 35,
age == "[40-50)" ~ 45,
age == "[50-60)" ~ 55,
age == "[60-70)" ~ 65,
age == "[70-80)" ~ 75,
age == "[80-90)" ~ 85,
age == "[90-100)" ~ 95
))
library(ggplot2)
ggplot(dat, aes(x = factor(age), y = time_in_hospital)) +
geom_boxplot(fill = "lightblue", color = "darkblue") +
labs(
title = "Distribution of Length of Stay by Age Groups",
x = "Age Group",
y = "Length of Stay"
) +
theme_minimal(base_size = 15) +
theme(
plot.title = element_text(hjust = 0.5, face = "bold"),
axis.title.x = element_text(face = "bold"),
axis.title.y = element_text(face = "bold")
)
ggsave(
here::here("output/boxplot.png"),
plot = boxplot,
device = "png"
)
here::i_am(
"code/02_make_boxplot.R"
)
dat <- read.csv(
here::here("data/diabetic_data.csv")
)
dat <- dat %>%
mutate(age_numeric = case_when(
age == "[0-10)" ~ 5,
age == "[10-20)" ~ 15,
age == "[20-30)" ~ 25,
age == "[30-40)" ~ 35,
age == "[40-50)" ~ 45,
age == "[50-60)" ~ 55,
age == "[60-70)" ~ 65,
age == "[70-80)" ~ 75,
age == "[80-90)" ~ 85,
age == "[90-100)" ~ 95
))
library(ggplot2)
ggplot(dat, aes(x = factor(age), y = time_in_hospital)) +
geom_boxplot(fill = "lightblue", color = "darkblue") +
labs(
title = "Distribution of Length of Stay by Age Groups",
x = "Age Group",
y = "Length of Stay"
) +
theme_minimal(base_size = 15) +
theme(
plot.title = element_text(hjust = 0.5, face = "bold"),
axis.title.x = element_text(face = "bold"),
axis.title.y = element_text(face = "bold")
)
ggsave(
here::here("output/boxplot.png"),
plot = boxplot,
device = "png"
)
here::i_am(
"code/02_make_boxplot.R"
)
dat <- read.csv(
here::here("data/diabetic_data.csv")
)
dat <- dat %>%
mutate(age_numeric = case_when(
age == "[0-10)" ~ 5,
age == "[10-20)" ~ 15,
age == "[20-30)" ~ 25,
age == "[30-40)" ~ 35,
age == "[40-50)" ~ 45,
age == "[50-60)" ~ 55,
age == "[60-70)" ~ 65,
age == "[70-80)" ~ 75,
age == "[80-90)" ~ 85,
age == "[90-100)" ~ 95
))
library(ggplot2)
ggplot(dat, aes(x = factor(age), y = time_in_hospital)) +
geom_boxplot(fill = "lightblue", color = "darkblue") +
labs(
title = "Distribution of Length of Stay by Age Groups",
x = "Age Group",
y = "Length of Stay"
) +
theme_minimal(base_size = 15) +
theme(
plot.title = element_text(hjust = 0.5, face = "bold"),
axis.title.x = element_text(face = "bold"),
axis.title.y = element_text(face = "bold")
)
ggsave(
here::here("output/boxplot.png"),
plot = ggplot,
device = "png"
)
here::i_am(
"code/02_make_boxplot.R"
)
dat <- read.csv(
here::here("data/diabetic_data.csv")
)
dat <- dat %>%
mutate(age_numeric = case_when(
age == "[0-10)" ~ 5,
age == "[10-20)" ~ 15,
age == "[20-30)" ~ 25,
age == "[30-40)" ~ 35,
age == "[40-50)" ~ 45,
age == "[50-60)" ~ 55,
age == "[60-70)" ~ 65,
age == "[70-80)" ~ 75,
age == "[80-90)" ~ 85,
age == "[90-100)" ~ 95
))
library(ggplot2)
boxplot <- ggplot(dat, aes(x = factor(age), y = time_in_hospital)) +
geom_boxplot(fill = "lightblue", color = "darkblue") +
labs(
title = "Distribution of Length of Stay by Age Groups",
x = "Age Group",
y = "Length of Stay"
) +
theme_minimal(base_size = 15) +
theme(
plot.title = element_text(hjust = 0.5, face = "bold"),
axis.title.x = element_text(face = "bold"),
axis.title.y = element_text(face = "bold")
)
ggsave(
here::here("output/boxplot.png"),
plot = ggplot,
device = "png"
)
# Load necessary libraries
library(here)
library(dplyr)
library(ggplot2)
# Set working directory reference
here::i_am("code/02_make_boxplot.R")
# Read in the data
dat <- read.csv(here::here("data/diabetic_data.csv"))
# Transform the age variable to a numeric form
dat <- dat %>%
mutate(age_numeric = case_when(
age == "[0-10)" ~ 5,
age == "[10-20)" ~ 15,
age == "[20-30)" ~ 25,
age == "[30-40)" ~ 35,
age == "[40-50)" ~ 45,
age == "[50-60)" ~ 55,
age == "[60-70)" ~ 65,
age == "[70-80)" ~ 75,
age == "[80-90)" ~ 85,
age == "[90-100)" ~ 95
))
# Create the boxplot
boxplot <- ggplot(dat, aes(x = factor(age), y = time_in_hospital)) +
geom_boxplot(fill = "lightblue", color = "darkblue") +
labs(
title = "Distribution of Length of Stay by Age Groups",
x = "Age Group",
y = "Length of Stay"
) +
theme_minimal(base_size = 15) +
theme(
plot.title = element_text(hjust = 0.5, face = "bold"),
axis.title.x = element_text(face = "bold"),
axis.title.y = element_text(face = "bold")
)
# Save the plot to an output file
ggsave(
filename = here::here("output/boxplot.png"),
plot = boxplot,
device = "png"
)
here::i_am(
"report.Rmd"
)
table <- readRDS(
here::here("output/table1.rds")
)
kable(summary_table_tidy, caption = "Table of Patients Characteristics")
table <- readRDS(
here::here("output/table1.rds")
)
library(knitr)
kable(summary_table_tidy, caption = "Table of Patients Characteristics")
table <- readRDS(
here::here("output/table1.rds")
)
library(knitr)
kable(table, caption = "Table of Patients Characteristics")
#| fig.align = "center",
#| out.width = "600px"
knitr::include_graphics(
here::here("output/boxplot.png")
)
knitr::include_graphics(
here::here("output/boxplot.png")
)
knitr::include_graphics(
here::here("output/boxplot.png")
)
View(dat)
library(dplyr)
here::i_am(
"code/00_clean_data.R"
)
dat <- read.csv(
here::here("data/diabetic_data.csv")
)
# Transform the age variable to a numeric form
dat_clean <- dat %>%
mutate(age_numeric = case_when(
age == "[0-10)" ~ 5,
age == "[10-20)" ~ 15,
age == "[20-30)" ~ 25,
age == "[30-40)" ~ 35,
age == "[40-50)" ~ 45,
age == "[50-60)" ~ 55,
age == "[60-70)" ~ 65,
age == "[70-80)" ~ 75,
age == "[80-90)" ~ 85,
age == "[90-100)" ~ 95
))
saveRDS(
dat_clean,
file = here::here("output", "dat_clean.rds")
)
View(dat_clean)
print(unique(dat$age))
head(dat_clean)
View(dat_clean)
